{"version":3,"file":"index.umd.min.js","sources":["../node_modules/@sgratzl/boxplots/build/index.js","../src/kde.ts","../src/data.ts","../src/animation.ts","../src/tooltip.ts","../src/controllers/StatsBase.ts","../src/elements/base.ts","../src/elements/BoxAndWiskers.ts","../src/elements/Violin.ts","../src/controllers/patchController.ts","../src/controllers/BoxPlotController.ts","../src/controllers/ViolinController.ts","../src/index.umd.ts"],"sourcesContent":["/**\n * @sgratzl/boxplots\n * https://github.com/sgratzl/boxplots\n *\n * Copyright (c) 2021 Samuel Gratzl <sam@sgratzl.com>\n */\n\nconst HELPER = Math.sqrt(2 * Math.PI);\nfunction gaussian(u) {\n    return Math.exp(-0.5 * u * u) / HELPER;\n}\nfunction toSampleVariance(variance, len) {\n    return (variance * len) / (len - 1);\n}\nfunction nrd(iqr, variance, len) {\n    let s = Math.sqrt(toSampleVariance(variance, len));\n    if (typeof iqr === 'number') {\n        s = Math.min(s, iqr / 1.34);\n    }\n    return 1.06 * s * Math.pow(len, -0.2);\n}\nfunction kde(stats) {\n    const len = stats.items.length;\n    const bandwidth = nrd(stats.iqr, stats.variance, len);\n    return (x) => {\n        let i = 0;\n        let sum = 0;\n        for (i = 0; i < len; i++) {\n            const v = stats.items[i];\n            sum += gaussian((x - v) / bandwidth);\n        }\n        return sum / bandwidth / len;\n    };\n}\n\nfunction quantilesInterpolate(arr, length, interpolate) {\n    const n1 = length - 1;\n    const compute = (q) => {\n        const index = q * n1;\n        const lo = Math.floor(index);\n        const h = index - lo;\n        const a = arr[lo];\n        return h === 0 ? a : interpolate(a, arr[Math.min(lo + 1, n1)], h);\n    };\n    return {\n        q1: compute(0.25),\n        median: compute(0.5),\n        q3: compute(0.75),\n    };\n}\nfunction quantilesType7(arr, length = arr.length) {\n    return quantilesInterpolate(arr, length, (a, b, alpha) => a + alpha * (b - a));\n}\nfunction quantilesLinear(arr, length = arr.length) {\n    return quantilesInterpolate(arr, length, (i, j, fraction) => i + (j - i) * fraction);\n}\nfunction quantilesLower(arr, length = arr.length) {\n    return quantilesInterpolate(arr, length, (i) => i);\n}\nfunction quantilesHigher(arr, length = arr.length) {\n    return quantilesInterpolate(arr, length, (_, j) => j);\n}\nfunction quantilesNearest(arr, length = arr.length) {\n    return quantilesInterpolate(arr, length, (i, j, fraction) => (fraction < 0.5 ? i : j));\n}\nfunction quantilesMidpoint(arr, length = arr.length) {\n    return quantilesInterpolate(arr, length, (i, j) => (i + j) * 0.5);\n}\nfunction quantilesFivenum(arr, length = arr.length) {\n    const n = length;\n    const n4 = Math.floor((n + 3) / 2) / 2;\n    const compute = (d) => 0.5 * (arr[Math.floor(d) - 1] + arr[Math.ceil(d) - 1]);\n    return {\n        q1: compute(n4),\n        median: compute((n + 1) / 2),\n        q3: compute(n + 1 - n4),\n    };\n}\nfunction quantilesHinges(arr, length = arr.length) {\n    return quantilesFivenum(arr, length);\n}\n\nfunction createSortedData(data) {\n    let valid = 0;\n    const { length } = data;\n    const vs = data instanceof Float64Array ? new Float64Array(length) : new Float32Array(length);\n    for (let i = 0; i < length; i += 1) {\n        const v = data[i];\n        if (v == null || Number.isNaN(v)) {\n            continue;\n        }\n        vs[valid] = v;\n        valid += 1;\n    }\n    const missing = length - valid;\n    if (valid === 0) {\n        return {\n            min: Number.NaN,\n            max: Number.NaN,\n            missing,\n            s: [],\n        };\n    }\n    const validData = valid === length ? vs : vs.subarray(0, valid);\n    validData.sort((a, b) => (a === b ? 0 : a < b ? -1 : 1));\n    const min = validData[0];\n    const max = validData[validData.length - 1];\n    return {\n        min,\n        max,\n        missing,\n        s: validData,\n    };\n}\nfunction withSortedData(data) {\n    if (data.length === 0) {\n        return {\n            min: Number.NaN,\n            max: Number.NaN,\n            missing: 0,\n            s: [],\n        };\n    }\n    const min = data[0];\n    const max = data[data.length - 1];\n    return {\n        min,\n        max,\n        missing: 0,\n        s: data,\n    };\n}\nfunction computeWhiskers(s, valid, min, max, { eps, quantiles, coef, whiskersMode }) {\n    const same = (a, b) => Math.abs(a - b) < eps;\n    const { median, q1, q3 } = quantiles(s, valid);\n    const iqr = q3 - q1;\n    const isCoefValid = typeof coef === 'number' && coef > 0;\n    let whiskerLow = isCoefValid ? Math.max(min, q1 - coef * iqr) : min;\n    let whiskerHigh = isCoefValid ? Math.min(max, q3 + coef * iqr) : max;\n    const outlierLow = [];\n    for (let i = 0; i < valid; i += 1) {\n        const v = s[i];\n        if (v >= whiskerLow || same(v, whiskerLow)) {\n            if (whiskersMode === 'nearest') {\n                whiskerLow = v;\n            }\n            break;\n        }\n        if (outlierLow.length === 0 || !same(outlierLow[outlierLow.length - 1], v)) {\n            outlierLow.push(v);\n        }\n    }\n    const reversedOutlierHigh = [];\n    for (let i = valid - 1; i >= 0; i -= 1) {\n        const v = s[i];\n        if (v <= whiskerHigh || same(v, whiskerHigh)) {\n            if (whiskersMode === 'nearest') {\n                whiskerHigh = v;\n            }\n            break;\n        }\n        if ((reversedOutlierHigh.length === 0 || !same(reversedOutlierHigh[reversedOutlierHigh.length - 1], v)) &&\n            (outlierLow.length === 0 || !same(outlierLow[outlierLow.length - 1], v))) {\n            reversedOutlierHigh.push(v);\n        }\n    }\n    const outlier = outlierLow.concat(reversedOutlierHigh.reverse());\n    return {\n        median,\n        q1,\n        q3,\n        iqr,\n        outlier,\n        whiskerHigh,\n        whiskerLow,\n    };\n}\nfunction computeStats(s, valid) {\n    let mean = 0;\n    for (let i = 0; i < valid; i++) {\n        const v = s[i];\n        mean += v;\n    }\n    mean /= valid;\n    let variance = 0;\n    for (let i = 0; i < valid; i++) {\n        const v = s[i];\n        variance += (v - mean) * (v - mean);\n    }\n    variance /= valid;\n    return {\n        mean,\n        variance,\n    };\n}\nfunction boxplot(data, options = {}) {\n    const fullOptions = {\n        coef: 1.5,\n        eps: 10e-3,\n        quantiles: quantilesType7,\n        validAndSorted: false,\n        whiskersMode: 'nearest',\n        ...options,\n    };\n    const { missing, s, min, max } = fullOptions.validAndSorted ? withSortedData(data) : createSortedData(data);\n    const invalid = {\n        min: Number.NaN,\n        max: Number.NaN,\n        mean: Number.NaN,\n        missing,\n        iqr: Number.NaN,\n        count: data.length,\n        whiskerHigh: Number.NaN,\n        whiskerLow: Number.NaN,\n        outlier: [],\n        median: Number.NaN,\n        q1: Number.NaN,\n        q3: Number.NaN,\n        variance: 0,\n        items: [],\n        kde: () => 0,\n    };\n    const valid = data.length - missing;\n    if (valid === 0) {\n        return invalid;\n    }\n    const result = {\n        min,\n        max,\n        count: data.length,\n        missing,\n        items: s,\n        ...computeStats(s, valid),\n        ...computeWhiskers(s, valid, min, max, fullOptions),\n    };\n    return {\n        ...result,\n        kde: kde(result),\n    };\n}\n\nexport { boxplot, boxplot as default, kde, quantilesFivenum, quantilesHigher, quantilesHinges, quantilesInterpolate, quantilesLinear, quantilesLower, quantilesMidpoint, quantilesNearest, quantilesType7 };\n//# sourceMappingURL=index.js.map\n",null,null,null,null,null,null,null,null,null,null,null,null],"names":["HELPER","Math","sqrt","PI","kde","stats","len","items","length","bandwidth","iqr","variance","s","toSampleVariance","min","pow","nrd","x","i","sum","v","u","exp","quantilesInterpolate","arr","interpolate","n1","compute","q","index","lo","floor","h","a","q1","median","q3","quantilesType7","b","alpha","quantilesLinear","j","fraction","quantilesLower","quantilesHigher","_","quantilesNearest","quantilesMidpoint","quantilesFivenum","n","n4","d","ceil","quantilesHinges","computeWhiskers","valid","max","eps","quantiles","coef","whiskersMode","same","abs","isCoefValid","whiskerLow","whiskerHigh","outlierLow","push","reversedOutlierHigh","outlier","concat","reverse","computeStats","mean","boxplot","data","options","fullOptions","validAndSorted","missing","Number","NaN","withSortedData","vs","Float64Array","Float32Array","isNaN","validData","subarray","sort","createSortedData","invalid","count","result","m","reduce","xi","acc","points","sample","bw","map","y","estimate","defaultStatsOptions","determineStatsOptions","hinges","fivenum","linear","lower","higher","nearest","midpoint","determineQuantiles","asBoxPlotStats","value","whiskerMin","whiskerMax","coefValid","Array","isArray","whiskers","slice","r","boxplots","from","outliers","boxplotStats","asViolinStats","coords","filter","samples","inc","maxEstimate","NEGATIVE_INFINITY","violinStats","interpolators","number","to","factor","interpolateNumberArray","t","patchInHoveredOutlier","item","formattedValue","that","this","_tooltipOutlier","datasetIndex","hoveredOutlierIndex","outlierPositioner","eventPosition","el","element","hasValue","pos","tooltipPosition","baseDefaults","keys","colorKeys","c","endsWith","animations","numberArray","fn","properties","colors","type","transitions","show","hide","minStats","maxStats","defaultOverrides","plugins","tooltips","position","register","id","callbacks","beforeLabel","Tooltip","positioners","average","StatsBase","BarController","_transformStats","target","source","mapper","key","getMinMax","scale","canStack","bak","axis","config","super","parsePrimitiveData","meta","start","vScale","iScale","labels","getLabels","parsed","parse","_parseStats","Object","assign","parseArrayData","parseObjectData","getLabelAndValue","_cachedMeta","getParsed","raw","getLabelForValue","_toStringStats","toString","f","formatNumber","chart","locale","updateElement","rectangle","mode","reset","base","getBasePixel","_datasetIndex","_index","getPixelForValue","borderWidth","outlierStyle","outlierRadius","outlierBorderWidth","itemStyle","itemRadius","itemBorderWidth","meanStyle","meanRadius","meanBorderWidth","hitPadding","outlierHitRadius","baseRoutes","outlierBackgroundColor","outlierBorderColor","itemBackgroundColor","itemBorderColor","meanBackgroundColor","meanBorderColor","baseOptionKeys","Element","isVertical","horizontal","_drawItems","ctx","vert","props","getProps","save","strokeStyle","fillStyle","lineWidth","random","seed","Date","now","rnd","pointOptions","pointStyle","radius","Set","forEach","has","drawPoint","width","height","restore","_drawOutliers","_drawMeanDot","_getBounds","_useFinalPosition","left","top","right","bottom","_getHitBounds","useFinalPosition","padding","inRange","mouseX","mouseY","_boxInRange","_outlierIndexInRange","inXRange","bounds","inYRange","hitRadius","_getOutliers","vertical","toCompare","getCenterPoint","tooltip","boxOptionsKeys","BoxAndWiskers","draw","backgroundColor","borderColor","_drawBoxPlot","_drawBoxPlotVertical","_drawBoxPlotHorizontal","x0","fillRect","medianColor","beginPath","moveTo","lineTo","closePath","stroke","lowerBackgroundColor","strokeRect","y0","defaults","BarElement","defaultRoutes","Violin","_drawCoords","fill","patchController","controller","elements","scales","registry","addControllers","addElements","addScales","BoxPlotController","merge","numbers","dataElementType","overrides","BoxPlotChart","Chart","constructor","LinearScale","CategoryScale","ViolinController","kdeCoords","ViolinChart"],"mappings":"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"}